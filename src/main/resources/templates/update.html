
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Atualizar Contato</title>
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/v/bs4/dt-1.10.25/datatables.min.css" />

<!-- CSS for multi row select -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/1.11.1/css/jquery.dataTables.min.css" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
</head>
<body>
	<script src="/js/contatos.js"></script>
	<div class="container">
		<br />
		<div class="row">

			<div class="col-2"></div>
			<div class="col-8">
				<h3 class="text-center">
					Atualizar contato <a th:text="${contato.nome}" /> <a
						th:text="${contato.sobrenome}" />
				</h3>
			</div>
			<div class="col-2"></div>
		</div>
		<br /> 
		<div class="row">
			<div class="col-4"></div>
			<div class="col-4">
				<form action="/updateContato" method="post" class="was-validated">

					<input hidden th:value="${contato.id}" type="number"
						class="form-control" id="id" name="id" required>

					<div class="form-group">
						<br /> <label for="nome">Nome:</label> <input
							th:value="${contato.nome}" type="text" class="form-control"
							id="nome" placeholder="Digite seu nome" name="nome" required>
						<div class="valid-feedback"></div>
						<div class="invalid-feedback">Informe o nome</div>
					</div>

					<div class="form-group">
						<br /> <label for="sobrenome">Sobrenome:</label> <input
							th:value="${contato.sobrenome}" type="text" class="form-control"
							id="sobrenome" placeholder="Digite seu sobrenome"
							name="sobrenome" required>
						<div class="valid-feedback"></div>
						<div class="invalid-feedback">Informe o sobrenome</div>
					</div>


					<div class="form-group">
						<br /> <label for="email">Email:</label> <input
							th:value="${contato.email}" type="email" class="form-control"
							placeholder="Email" id="email" name="email" data-mask='teste@gmail.com' required>
						<div class="valid-feedback"></div>
						<div class="invalid-feedback">Informe o email</div>
					</div>


					<div class="form-group">
						<br /> <label for="sobrenome">Observação:</label> <input
							th:value="${contato.observacao}" type="text" class="form-control"
							id="observacao" placeholder="Digite uma observação"
							name="observacao">

					</div>

					<div class="form-group">
						<br />
						<div id="telefone-list" >
							<div th:each="telefone: ${contato.telefones}" ><label for="telefone">Telefone:</label>
								<input th:value="${telefone}" type="text"
								class="form-control telefone" placeholder="Digite um telefone" name="telefones" minlength="15" maxlength="15" onkeypress="parseTelefone(this.value,this)"></div>
						</div>

					</div>


					<br /> 
					<button type="button" id="btn-add-telefone" class="btn btn-success">Adicionar
						telefone</button>
					<br /> <br /> <br />

					<div class="d-flex justify-content-between">						
							<button type="submit" class="btn btn-primary">Salvar</button>						
							<a th:href="@{/list}" class="btn btn-secondary" role="button">Voltar</a>				
					</div>


				</form>
			</div>
			<div class="col-4"></div>
		</div>
	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<!-- <script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->

	<script type="text/javascript">
		$(document)
				.ready(
						function() {
							$("#btn-add-telefone")
									.click(
											function() {
												$("#telefone-list")
														.append(
																'<label for="telefones">Telefone:</label><input onkeypress="parseTelefone(this.value,this)" type="text" class="form-control telefone" name="telefones" maxlength="15"><br/>');
											});

						});
	</script>

</body>
</html>